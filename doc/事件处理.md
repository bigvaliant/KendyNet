##kendynet的事件处理模型

kendyet的设计目标是建立一个基于事件的，分布式的服务处理框架.各服务之间通过异步消息请求服务,获得服务的结果.
整个框架的设计核心在于事件的分发,也就是`msgdisp_t`,所有到达的外部事件(这里的外部事件指网络消息，
或者同一进程中其它服务通过`push_msg`发送过来的消息),将会触发在`msgdisp_t`中注册的`ASYNCB_PROCESS_PACKET`函数.

这里需要解释一下,为什么`ASYNCB_PROCESS_PACKET`回调函数中一个主要的参数是`rpacket_t`而不是event或
message之类的.

这样设计的主要目的是，屏蔽事件发送者的位置信息,例如，有一个数据库代理服务,使用者可以向这个服务发送一个数据库的操作请求，在请求异步完成后回调一个用户注册的函数.这个代理服务可以跟请求者在一个进程中也可以运行在一个不同的物理服务器上.可见这个完成事件可能来自本地也可能来自远端的服务器。所以这里统一将事件用`rpacket_t`表示。

当然也就涉及到另一个问题，例如使用者发起了一个查询请求,事件回调返回给使用者的是一个结果集，如果请求者和服务提供者在同一个进程中，显然将这个返回的结果集用指针直接传递可以有更高的效率.在这个问题的处理上，服务者应该根据请求者的信息正确编码回应消息(rpacket_t)中的resultset（例如：如果双方在同一进程被编码为指针，否则是resultset中的实际数据），并提供一个`get_resultset(rpacket_t)`函数以正确的方式获得结果集对象.


